#!/usr/local/bin/bash

git submodule foreach --recursive "echo 'Checking out master branch.'; git checkout master"
git submodule foreach --recursive "echo 'Adding all files.'; git add ."
git submodule foreach --recursive "echo 'Committing changes.'; git commit -a -q -F$HOME/dedicatory.txt || :"
echo 'Adding main repo changes.'
git add .
echo 'Committing changes to main repo.'
git commit -a -F$HOME/dedicatory.txt
